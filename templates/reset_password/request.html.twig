{% extends 'base.html.twig' %}

{% block title %}Reset Password - Leoni ToolFlow{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/login.css') }}">
    <style>
        .alert {
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
            width: 100%;
            box-sizing: border-box;
        }
        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
    </style>
{% endblock %}

{% block body %}
<div class="session">
    <div class="left" style="background-color: white; padding: 10px;">
        <img src="{{ asset('images/Logo.png') }}" alt="Leoni Logo">
    </div>
    <form method="post" action="{{ path('app_reset_password_send') }}" class="log-in" autocomplete="off">
        <h4>Password <span>Recovery</span></h4>
        <p>Enter your email address to receive a password reset verification code.</p>

        {% for flash_error in app.flashes('error') %}
            <div class="alert alert-danger">{{ flash_error }}</div>
        {% endfor %}

        {% for flash_success in app.flashes('success') %}
            <div class="alert alert-success">{{ flash_success }}</div>
        {% endfor %}
        
        <div class="floating-label">
            <input placeholder="Email Address" type="email" name="email" id="email" required autofocus>
            <label for="email">Email Address:</label>
            <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
            </div>
        </div>

        <button type="submit">Send Reset Code</button>
        
        <div class="register-link" style="margin-top: 20px; text-align: center; width: 100%;">
            <p>Remember your password?<br/><a href="{{ path('app_login') }}" style="color: var(--primary-color-saturated); text-decoration: none;">Back to Login</a></p>
        </div>
    </form>
</div>
{% endblock %}
